\documentclass[tikz]{standalone}


\usepackage{amsmath}     
\usepackage{dsfont}		
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{graphicx}
\usepackage{amssymb}

\usepackage{latexsym}
\usepackage{euscript,makeidx,color,mathrsfs}
\usepackage{enumerate}

%%---------------------------------------------------------------
%plotting
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\pgfplotsset{
  width=.65\linewidth,
  axis background/.style={fill=black!5!white},
  grid style={densely dotted,semithick},
  compat=newest, % compatibility for old pgfplots versions
  no markers, 
}
%configs for drawings 
%colors
\definecolor{plot_color1}{HTML}{1b9e77}
\definecolor{plot_color2}{HTML}{d95f02}
\definecolor{plot_color3}{HTML}{7570b3}
\definecolor{plot_color4}{HTML}{000000}
%line width
\newcommand{\MLINEWIDTH}{1.2}
\newcommand{\MLINEOPACITY}{1}
\newcommand{\IDLINEWIDTH}{0.2}
\newcommand{\IDLINEOPACITY}{0.2}
\newcommand{\NMAX}{700}
\newcommand{\NMIN}{695}
    
%\usepgfplotslibrary{colorbrewer}
%%%infos for choosing color in plots https://www.traag.net/2014/06/05/281/
%%---------------------------------------------------------------

%%--------------------------------------------------------------
%% load table formats for stability/convergence tables and energy plots
\usepackage{booktabs}

%%--------------------------------------------------------------


\begin{document}

\begin{tikzpicture}
\begin{axis}[
clip=false,
width=.60\textwidth,
height=.60\textwidth,
xmode = linear,
ymode = log,
xlabel={Time},
ylabel={Kinetic energy},
scale = {1},
clip = true,
legend style={legend columns=1,legend pos=north east,font=\fontsize{7}{5}\selectfont}
]
	\addplot[plot_color1, line width=\MLINEWIDTH, draw opacity=\MLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-additive/kinetic_energy/refinement_9.csv};
	\addplot[plot_color2, line width=\MLINEWIDTH, draw opacity=\MLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-multiplicative/kinetic_energy/refinement_9.csv};
	\addplot[plot_color3, line width=\MLINEWIDTH, draw opacity=\MLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-transport/kinetic_energy/refinement_9.csv};
	\addplot[plot_color4, line width=\MLINEWIDTH] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-deterministic/kinetic_energy/refinement_9.csv};
\legend{additive,multiplicative,transport,deterministic};
\foreach \n in {\NMIN, ..., \NMAX}
	{
	\addplot[plot_color1, line width=\IDLINEWIDTH,draw opacity=\IDLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-additive/individual/ind_kinetic_energy_\n/refinement_9.csv};
	\addplot[plot_color2, line width=\IDLINEWIDTH,draw opacity=\IDLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-multiplicative/individual/ind_kinetic_energy_\n/refinement_9.csv};
	\addplot[plot_color3, line width=\IDLINEWIDTH,draw opacity=\IDLINEOPACITY] table [x=time,y=L2, col sep=comma] {../data/energy_results/intro-transport/individual/ind_kinetic_energy_\n/refinement_9.csv};
	}
\end{axis}
\end{tikzpicture}


\end{document}
